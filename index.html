<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
  <title>Fancytree - Example</title>

	<script src="lib/jquery.js" type="text/javascript"></script>
	<script src="lib/jquery-ui.custom.js" type="text/javascript"></script>

	<link href="src/skin-win7/ui.fancytree.css" rel="stylesheet" type="text/css">
	<script src="src/jquery.fancytree.js" type="text/javascript"></script>

	<!-- Start_Exclude: This block is not part of the sample code -->
	<link href="lib/prettify.css" rel="stylesheet">
	<script src="lib/prettify.js" type="text/javascript"></script>
	<link href="demo/sample.css" rel="stylesheet" type="text/css">
	<script src="demo/sample.js" type="text/javascript"></script>
	<!-- End_Exclude -->


  <!-- (Irrelevant source removed.) -->

   <style type="text/css">
    #tree {
      vertical-align: top;
      width: 250px;
    }
    iframe {
      border: 1px dotted gray;
    }
  </style>
  <!-- Add code to initialize the tree when the document is loaded: -->
  <script type="text/javascript">
  $(function(){
    // Attach the dynatree widget to an existing <div id="tree"> element
    // and pass the tree options as an argument to the dynatree() function:
    $("#tree").fancytree({
//          autoCollapse: true,

      minExpandLevel: 1,
      postinit: function(isReloading, isError) {
        this.reactivate();
      },
      focus: function(event, data) {
        // Auto-activate focused node after 2 seconds
        data.node.scheduleAction("activate", 2000);
      },
      activate: function(event, data) {
        var node = data.node;
        // Use <a> href and target attributes to load the content:
        if( node.data.href ){
          // Open target
          window.open(node.data.href, node.data.target);
          // or open target in iframe
//                $("[name=contentFrame]").attr("src", node.data.href);
        }
      }
    });
  });
  
  $(document).ready( function() {

	$( '#tree' ).html( '<ul class="filetree start"><li class="wait">' + 'Generating Tree...' + '<li></ul>' );
	
	getfilelist( $('#container') , 'wiki-master/' );
	
	function getfilelist( cont, root ) {
	
		$( cont ).addClass( 'wait' );
			
		$.post( 'Foldertree.php', { dir: root }, function( data ) {
	
			$( cont ).find( '.start' ).html( '' );
			$( cont ).removeClass( 'wait' ).append( data );
			if( 'Sample' == root ) 
				$( cont ).find('UL:hidden').show();
			else 
				$( cont ).find('UL:hidden').slideDown({ duration: 500, easing: null });
			
		});
	}
	
	$( '#container' ).on('click', 'LI A', function() {
		var entry = $(this).parent();
		
		if( entry.hasClass('folder') ) {
			if( entry.hasClass('collapsed') ) {
						
				entry.find('UL').remove();
				getfilelist( entry, escape( $(this).attr('rel') ));
				entry.removeClass('collapsed').addClass('expanded');
			}
			else {
				
				entry.find('UL').slideUp({ duration: 500, easing: null });
				entry.removeClass('expanded').addClass('collapsed');
			}
		} else {
			$( '#selected_file' ).text( "File:  " + $(this).attr( 'rel' ));
		}
	return false;
	});
	
});

  </script>
</head>

  <table>
  <colgroup>
    <col width="300px" valign="top">
    <col width="90%">
  </colgroup>
  <tr>
    <td valign="top">
      <!-- Add a <div> element where the tree should appear: -->
      <div id="tree">
      
      </div>
    </td>

    <td>
      <iframe src="https://poper0.github.io/fromScratch     " name="contentFrame" width="100%" height="500"
          scrolling="yes" marginheight="0" marginwidth="0" frameborder="0">
        <p>Your browser does not support iframes</p>
      </iframe>
    </td>
  </tr>
  </table>


  <!-- (Irrelevant source removed.) -->
</body>
</html>